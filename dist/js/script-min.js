$(document).ready(function(){var o={isModalShow:!1,scrollPos:0};$(".modal-content").click(function(o){o.stopPropagation()});var e=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),o.scrollPos=$(window).scrollTop(),$("body").css({overflow:"hidden",position:"fixed",overflowY:"hidden",top:-o.scrollPos,width:"100%"})),o.isModalShow=!0},a=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:o.scrollPos}),$(window).scrollTop(o.scrollPos),$(".modal").removeClass("modal__show"),o.isModalShow=!1},s=function(o){e(),$(".modal").each(function(){$(this).data("modal")===o?$(this).addClass("modal__show"):$(this).removeClass("modal__show")});var a=$(window).height();$(".modal-filter").height(a)};$(".modal-get").click(function(){var o=$(this).data("modal");s(o)}),$(".modal-layer , .modal-close").click(function(){a()}),$(".head-toggle--open").click(function(){$("body").css({overflow:"",position:"",top:""})}),$(".head-toggle").click(function(o){o.stopPropagation(),$(this).toggleClass("head-toggle--open"),$(".slide-menu").toggleClass("slide-menu--open")}),$(".slide-menu").on("click",function(o){o.stopPropagation()}),$(document).on("click",function(){$(".head-wrap").removeClass("head--up"),$(".head-toggle").removeClass("head-toggle--open"),$(".slide-menu").removeClass("slide-menu--open"),console.log(o.isModalShow),0==o.isModalShow&&$("body").removeClass("body-fix")});var l=250,i=$(".head").height();$(window).scroll(function(){var o=$(this).scrollTop();o>=l?($("body").css("paddingTop",i),$(".head").addClass("shrink")):($("body").css("paddingTop",0),$(".head").removeClass("shrink"))}),$(window).resize(function(){i=$(".head").height()}),jQuery.validator.addMethod("getPhone",function(o,e){return this.optional(e)||/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){5,18}(\s*)?$/.test(o)},"Введите правильный номер телефона"),$(".validate-form").each(function(){$(this);$(this).validate({highlight:function(o){$(o).parent().addClass("input-row--error")},unhighlight:function(o){$(o).parent().removeClass("input-row--error")},rules:{name:{required:!0},phone:{required:!0},comment:{required:!0,minlength:5},agree:{required:!0}},messages:{name:{required:"Обязательное поле"},phone:{required:"Обязательное поле"},comment:{required:"Обязательное поле",minlength:"Сообщение должно быть длиннее"},agree:{required:!1}},submitHandler:function(o){$.ajax({type:"POST",url:"sender.php",data:$(o).serialize(),timeout:3e3}),s("truemessage"),setTimeout(function(){a(),$(":input",".validate-form").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected")},2500)}})})});